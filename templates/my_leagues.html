{% extends "base.html" %}
{% block content %}
<div class="center" style="flex-direction:column;text-align:center">
  <img src="{{ url_for('static', filename='fantasy_blackjack_badge_padded.png') }}" alt="FBJ logo" style="max-width:260px;margin:5px auto;">
  <p class="subtitle">ðŸ‘‡Scroll down for rules</p>
  <h2>My Leagues</h2>
  <div class="grid grid-home">
  {% for league in leagues %}
  <div class="card player-card" style="text-align:center">
    <h3 style="margin:6px 0">{{ league.name }}</h3>
    <p class="meta">{{ league.member_count }} managers in league</p>
    <a href="{{ url_for('league', league_id=league.id) }}" class="btn btn-black" style="margin-top:10px">View League</a>
  </div>
  {% endfor %}
  </div>
  <div style="margin-top:20px; text-align:center">
  <a href="{{ url_for('create_league') }}" class="btn btn-secondary">Create League</a>
  <a href="{{ url_for('join_league') }}" class="btn">Join League</a>
  </div>
  <div class="quick-rules card">
    <h2>âš¡ Quick Rules</h2>
    <ul>
      <li><strong>Pick 4 players</strong> each gameweek: 1 GK, 1 DEF, 1 MID, 1 FWD (max 1 per club).</li>
      <li><strong>Blackjack goal:</strong> Score exactly <strong>21 points</strong>. Over 21 = <strong>Bust â†’ 0 points</strong>.</li>
      <li><strong>Duplicate penalty:</strong> Shared picks start on negative points (scaled by league size).</li>
      <li><strong>League points (LP):</strong>  
        Blackjack (21) = 10 LP, 20 = 4 LP, 19 = 3 LP, 18 = 2 LP, 17 = 1 LP, â‰¤16 or bust = 0 LP.
      </li>
      <li><strong>Season standings:</strong> Highest total LP wins.</li>
    </ul>
    <a class="btn btn-red" href="{{ url_for('rules') }}">ðŸ“œ Full rules</a>
  </div>
  {% if session.email == "joechrisp@hotmail.co.uk" %}
  <form method="post" action="{{ url_for('reset_league_password', league_id=league.id) }}">
    <input type="password" name="password" placeholder="New password">
    <button type="submit" class="btn btn-danger">Reset Password</button>
  </form>
{% endif %}
</div>
{% endblock %}
