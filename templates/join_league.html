{% extends "base.html" %}
{% block content %}
<div class="card auth-card">
  <h2>Join a League</h2>

  {% if leagues %}
    <div class="grid">
      {% for league in leagues %}
        <div class="card player-card" style="text-align:center; padding:16px;">

          <h3 style="margin:6px 0;">{{ league.name }}</h3>
          <p class="meta">
            {% if league.is_private %}
              ğŸ”’ Private League
            {% else %}
              ğŸŒ Public League
            {% endif %}
          </p>
          <p class="meta">{{ league.member_count }} managers</p>

          <form method="post" style="margin-top:10px;">
            <input type="hidden" name="league_id" value="{{ league.id }}">
            
            {% if league.is_private %}
              <input type="password" 
                     name="password" 
                     placeholder="Enter password"
                     required
                     style="margin-bottom:8px; width:100%;">
            {% endif %}
            
            <button type="submit" class="btn btn-black">
              Join League
            </button>
          </form>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No leagues available to join at the moment.</p>
  {% endif %}
</div>
{% endblock %}